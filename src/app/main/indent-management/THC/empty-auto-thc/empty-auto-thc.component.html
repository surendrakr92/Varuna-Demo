<div class="main-contianer">
    <div class="display bg-dark-light mb-2">
       <span class="title">
          <a routerLink="/indent"><i class="bi bi-arrow-return-left booticon" ngbTooltip="Back to Indent"
                placement="right"></i> </a>
       </span>
       <span class="titlemed">Empty Auto THC </span>
       <span class="title">
          <a routerLink="/dashboard"> <i class="bi bi-house-gear booticon" ngbTooltip="Dashboard" placement="bottom"></i>
          </a>
       </span>
    </div>
<form [formGroup]="formMaster">
    <div class="row mt-3 d-flex justify-content-center  mb-2">

        <div class="col-lg-6">
            <div class="row">
                <label for="inputText" class="col-sm-4 col-lg-4 col-form-label"> <span class="float-end">Vehicle No.
                        <span class="text-danger">*</span></span> </label>
                <div class=" col-lg-5 ">
                        <ng-select class="pb-2 " placeholder="Select Vehicle No " [searchable]="true" [clearable]="true"
                      formControlName="vehicleNo" 
                        [ngClass]="{'is-invalid':submitt && fs['vehicleNo'].errors}">
                        <ng-option value="" selected>Select</ng-option>
                        <ng-option [value]="item.vehicleNo" *ngFor="let item of vehicleList"
                          >{{item.vehicleNo }}</ng-option>
                     </ng-select>

                    <div *ngIf="submitt && fs['vehicleNo'].errors">
                        <small class="text-danger" *ngIf="fs['vehicleNo'].errors?.['required']">please select 
                            Vehicle No
                        </small>
                        <small class="text-danger" *ngIf="fs['vehicleNo'].errors?.serverError">{{
                            fs['vehicleNo'].errors.serverError}}</small>
                    </div>
                </div>
                <div class=" col-lg-3 ">
                    <button type="button" 
                        class="btn btn-warning rounded-pill btn-padding2 btn-sm" (click)="OnSearch()">Next <i class="bi bi-chevron-double-right"></i>
                        </button>

                </div>

            </div>
        </div>


    </div>
</form>
<ng-container >
<form [formGroup]="formMaster2">
<div class="row"  style="position: relative !important;">
    <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
            THC Date
           </label>
           <div class=" col-sm-12 col-lg-12">
              <input type="datetime-local" class="form-control" formControlName="thcDate"
                 [ngClass]="{'is-invalid':submitted && f['thcDate'].errors}">
              <div *ngIf="submitted && f['thcDate'].errors">
                 <small class="text-danger" *ngIf="f['thcDate'].errors?.['required']">Please enter
                    THC Date
                 </small>
                 <small class="text-danger" *ngIf="f['thcDate'].errors?.serverError">{{
                    f['thcDate'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-3">
      <div class="form-group ">
         <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
      Departure Date & Time
         </label>
         <div class=" col-sm-12 col-lg-12">
            <input type="datetime-local" class="form-control" formControlName="eventDate"
               [ngClass]="{'is-invalid':submitted && f['eventDate'].errors}">
            <div *ngIf="submitted && f['eventDate'].errors">
               <small class="text-danger" *ngIf="f['eventDate'].errors?.['required']">Please enter
              Departure Date & Time
               </small>
               <small class="text-danger" *ngIf="f['eventDate'].errors?.serverError">{{
                  f['eventDate'].errors.serverError}}</small>
            </div>
         </div>
      </div>
   </div>
     <div class="col-lg-3">
      <div class="form-group ">
         <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
         Vehicle No.
         </label>
         <div class=" col-sm-12 col-lg-12">
            <input type="text" class="form-control" formControlName="vehicleNo"  
               [ngClass]="{'is-invalid':submitted && f['vehicleNo'].errors}" readonly>
            <div *ngIf="submitted && f['vehicleNo'].errors">
               <small class="text-danger" *ngIf="f['vehicleNo'].errors?.['required']">Please enter
                 Vehicle No.
               </small>
               <small class="text-danger" *ngIf="f['vehicleNo'].errors?.serverError">{{
                  f['vehicleNo'].errors.serverError}}</small>
            </div>
         </div>
      </div>
   </div>

     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
           Vendor Type 
           </label>
           <div class=" col-sm-12 col-lg-12">
            <ng-select class="pb-2 " placeholder="Vendor Select" formControlName="vendorTypeName"
            [searchable]="true" [clearable]="true"
            [ngClass]="{'is-invalid':submitted && f['vendorTypeName'].errors}">
            <ng-option value="" selected>Select</ng-option>
            <ng-option [disabled]='!item.isActive' [value]="item"
               *ngFor="let item of vendorList">{{item.vendorTypeName}}</ng-option>
         </ng-select>
              <div *ngIf="submitted && f['vendorTypeName'].errors">
                 <small class="text-danger" *ngIf="f['vendorTypeName'].errors?.['required']">Please enter
                   Vendor Type 
                 </small>
                 <small class="text-danger" *ngIf="f['vendorTypeName'].errors?.serverError">{{
                    f['vendorTypeName'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-3">
      <div class="form-group ">
         <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
         Vendor Name 
         </label>
         <div class=" col-sm-12 col-lg-12">
          <ng-select class="pb-2 " placeholder="Vendor Select" formControlName="vendorName"
          [searchable]="true" [clearable]="true" (change)="dropdownBind($event)"
          [ngClass]="{'is-invalid':submitted && f['vendorName'].errors}">
          <ng-option value="" selected>Select</ng-option>
          <ng-option [disabled]='!item.isActive' [value]="item"
             *ngFor="let item of vendorList">{{item.vendorName}} - {{item.vendorCode}}</ng-option>
       </ng-select>
            <div *ngIf="submitted && f['vendorName'].errors">
               <small class="text-danger" *ngIf="f['vendorName'].errors?.['required']">Please enter
                Vendor name
               </small>
               <small class="text-danger" *ngIf="f['vendorName'].errors?.serverError">{{
                  f['vendorName'].errors.serverError}}</small>
            </div>
         </div>
      </div>
   </div>
     <div class="col-lg-3">
      <div class="form-group ">
         <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
          Pan Number
         </label>
         <div class=" col-sm-12 col-lg-12">
<input type="text" class="form-control" readonly  formControlName="panNo" [ngClass]="{'is-invalid':submitted && f['panNo'].errors}">

            <div *ngIf="submitted && f['panNo'].errors">
               <small class="text-danger" *ngIf="f['panNo'].errors?.['required']">Please enter
                  Pan Number
               </small>
               <small class="text-danger" *ngIf="f['panNo'].errors?.serverError">{{
                  f['panNo'].errors.serverError}}</small>
            </div>
         </div>
      </div>
   </div>
   
<ng-container *ngIf="this.formMaster2.controls['vehicleNo'].value">
  
   <div class="col-lg-12 mt-2">
    
      
   <div class="row list" *ngFor="let item of emptyAutoList;">
    <div class="col-lg-3" >
     <p>Vehicle : <span>{{item.vslipNo}}</span></p> 
     <p>Registered Date: <span>{{item.vehRegdt}}</span></p> 
  
 
   </div>
   <div class="col-lg-3 ">
    <p>Permit Validity:  <span>engineNo</span></p>
   <p>Insurance Validity:  <span>chasisNo</span></p>
   </div>
   <div class="col-lg-3 ">
    <p>Fitness Validity: <span>vehPermitDate</span></p> 
    <p>Engine No.:  <span>vehicleInsuranceDate</span></p>
 
    </div>
    <div class="col-lg-3 ">
    <p>Chassis No.:  <span>fitnessCertDate</span></p>
     <p>RC book No.:  <span>firstDriver</span></p>
 
    </div>
    <div class="col-lg-3 ">
      <p>Vehicle Type:  <span>firstDriverMobileNo</span></p>
       <p>FTL Type:  <span>firstDriverLicenseNo</span></p>
   
      </div>
   </div>
   </div>
   </ng-container>

  
     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
      Select Route
           </label>
           <div class=" col-sm-12 col-lg-12">
            <ng-select class="pb-2 " placeholder="Vendor Select" formControlName="routeId"
            [searchable]="true" [clearable]="true" 
            [ngClass]="{'is-invalid':submitted && f['routeId'].errors}">
            <ng-option value="" selected>Select</ng-option>
            <ng-option [disabled]='!item.isActive' [value]="item.routeId"
               *ngFor="let item of routeMasterList"> {{item.vendorCode}}- {{item.fromcity}}- {{item.tocity}}</ng-option>
         </ng-select>
              <div *ngIf="submitted && f['routeId'].errors">
                 <small class="text-danger" *ngIf="f['routeId'].errors?.['required']">Please enter
              Select Route
                 </small>
                 <small class="text-danger" *ngIf="f['routeId'].errors?.serverError">{{
                    f['routeId'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>

     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
   From City
           </label>
           <div class=" col-sm-12 col-lg-12">
            <ng-select class="pb-2 " placeholder="From City Select" formControlName="fromCityId"
            [searchable]="true" [clearable]="true" 
            [ngClass]="{'is-invalid':submitted && f['fromCityId'].errors}">
            <ng-option value="" selected>Select</ng-option>
            <ng-option [disabled]='!item.isActive' [value]="item.cityId"
               *ngFor="let item of cityList">{{item.cityName}}</ng-option>
         </ng-select>
              <div *ngIf="submitted && f['fromCityId'].errors">
                 <small class="text-danger" *ngIf="f['fromCityId'].errors?.['required']">Please enter
           From City
                 </small>
                 <small class="text-danger" *ngIf="f['fromCityId'].errors?.serverError">{{
                    f['fromCityId'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
To City
           </label>
           <div class=" col-sm-12 col-lg-12">
            <ng-select class="pb-2 " placeholder="From City Select" formControlName="toCityId"
            [searchable]="true" [clearable]="true" 
            [ngClass]="{'is-invalid':submitted && f['toCityId'].errors}">
            <ng-option value="" selected>Select</ng-option>
            <ng-option [disabled]='!item.isActive' [value]="item.cityId"
               *ngFor="let item of cityList">{{item.cityName}}</ng-option>
         </ng-select>
              <div *ngIf="submitted && f['toCityId'].errors">
                 <small class="text-danger" *ngIf="f['toCityId'].errors?.['required']">Please enter
        To City
                 </small>
                 <small class="text-danger" *ngIf="f['toCityId'].errors?.serverError">{{
                    f['toCityId'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
Trip Sheet
           </label>
           <div class=" col-sm-12 col-lg-12">
              <input type="text" class="form-control" formControlName="tripSheetNo"  
                 [ngClass]="{'is-invalid':submitted && f['tripSheetNo'].errors}">
              <div *ngIf="submitted && f['tripSheetNo'].errors">
                 <small class="text-danger" *ngIf="f['tripSheetNo'].errors?.['required']">Please enter
        Trip Sheet
                 </small>
                 <small class="text-danger" *ngIf="f['tripSheetNo'].errors?.serverError">{{
                    f['tripSheetNo'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-3">
        <div class="form-group ">
           <label for="inputText" class=" col-sm-12 col-lg-12 col-form-label">
Other Remarks
           </label>
           <div class=" col-sm-12 col-lg-12">
              <textarea type="text" class="form-control" formControlName="placementDt"
                 [ngClass]="{'is-invalid':submitted && f['placementDt'].errors}"></textarea>
              <div *ngIf="submitted && f['placementDt'].errors">
                 <small class="text-danger" *ngIf="f['placementDt'].errors?.['required']">Please enter
        Other Remarks
                 </small>
                 <small class="text-danger" *ngIf="f['placementDt'].errors?.serverError">{{
                    f['placementDt'].errors.serverError}}</small>
              </div>
           </div>
        </div>
     </div>

     <ng-container *ngIf="this.formMaster2.controls['vehicleNo'].value">
      <div class="col-lg-12 mt-2">
                

         <div class="row list">
            <div class="text-center"><p>Driver Details</p></div>
            <div class="col-lg-6">
<table class="table table-bordered " style="border: 1px solid #673ab7;">
<tbody>
<tr>
<th colspan="4" class="text-center">1st Driver</th>
</tr>
<tr>
<th>Manual Code</th>
<td>231sa</td>
<th>Name: </th>
<td>sadfs</td>
</tr>
<tr>
<th>Mobile no.: </th>
<td>sadfs</td>
<th>RTO: </th>
<td>sadfs</td>
</tr>
<tr>
<th>License no:</th>
<td>231sa</td>
<th>License Validity:</th>
<td>asdada45</td>
</tr>


</tbody>

</table>

</div>


<!-- 
            <div class="col-lg-6">
               <div class="row">
                  <div class="col-lg-12 text-center">
                     <p>1st Driver</p>
                  </div>
                  <div class="col-lg-6" style=" margin-left: 0px;">
                     <ul>
                        <li>
                           <p>Manual Code: <span>12/12/2023</span></p>
                        </li>
                        <li>
                           <p>Name: <span>12/12/2023</span></p>
                        </li>

                     </ul>
                  </div>
                  <div class="col-lg-6" style="padding-left: 0px; margin-left: 0px;">
                     <ul>
                        <li>
                           <p>Mobile no.: <span>12/12/2023</span></p>
                        </li>
                        <li>
                           <p>RTO: <span>12/12/2023</span></p>
                        </li>

                     </ul>
                  </div>

               </div>
            </div> -->

            <div class="col-lg-6">
               <table class="table table-bordered" style="border: 1px solid #673ab7;">
                  <tbody>
                    <tr>
                       <th colspan="4" class="text-center">2nd Driver</th>
                    </tr>
                       <tr>
                          <th>Manual Code</th>
                          <td>231sa</td>
                          <th>Name: </th>
                          <td>sadfs</td>
                       </tr>
                       <tr>
                          <th>Mobile no.: </th>
                          <td>sadfs</td>
                          <th>RTO: </th>
                          <td>sadfs</td>
                       </tr>
                       <tr>
                          <th>License no:</th>
                          <td>231sa</td>
                          <th>License Validity:</th>
                          <td>asdada45</td>
                       </tr>
                      
                       
                   </tbody>
                 
                 </table>
            </div>




         </div>
      </div>
      </ng-container>

</div>

<div class="row mt-4 mb-2">
    <div class="text-center">
        <button type="button" class="btn btn-primary rounded-pill btn-padding" (click)="Submit()">Submit</button>
    </div>

</div>

</form>
</ng-container>
    </div>